<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decay Detective</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        .glow {
            box-shadow: 0 0 15px rgba(74, 222, 128, 0.7);
        }

        .radioactive {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-100 min-h-screen">
    <div id="vanta-bg" class="fixed inset-0 -z-10 opacity-30"></div>

    <div class="container mx-auto px-4 py-12">
        <header class="text-center mb-12">
            <div class="inline-block bg-gradient-to-r from-green-400 to-blue-500 text-transparent bg-clip-text">
                <h1 class="text-5xl font-bold mb-2">Probabilities of Decay</h1>
            </div>
            <p class="text-xl text-gray-300">Calculate nuclear decay probabilities</p>
            <div class="mt-4 flex justify-center">
                <i data-feather="activity" class="text-green-400 w-10 h-10 radioactive"></i>
            </div>
        </header>

        <main
            class="max-w-3xl mx-auto bg-gray-800 rounded-xl shadow-2xl overflow-hidden glow transition-all duration-300">
            <div class="p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <label for="isotope" class="block text-sm font-medium text-gray-300 mb-2">Isotope</label>
                        <div class="relative">
                            <select id="isotope"
                                class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-green-400 focus:border-transparent">
                                <option value="">Select an isotope...</option>
                                <option value="4.468e9,238">Uranium-238 (4.468 billion years)</option>
                                <option value="5730,14">Carbon-14 (5,730 years)</option>
                                <option value="8.02e6,131">Iodine-131 (8.02 days)</option>
                                <option value="138.376,90">Strontium-90 (28.8 years)</option>
                                <option value="7.13e8,232">Thorium-232 (14 billion years)</option>
                                <option value="24100,239">Plutonium-239 (24,100 years)</option>
                                <option value="700e6,235">Uranium-235 (700 million years)</option>
                                <option value="6588,137">Cesium-137 (30.17 years)</option>
                                <option value="1600,226">Radium-226 (1,600 years)</option>
                                <option value="3.82,222">Radon-222 (3.82 days)</option>
                            </select>
                            <i data-feather="chevron-down" class="absolute right-3 top-3 text-gray-400"></i>
                        </div>
                    </div>

                    <div>
                        <label for="time" class="block text-sm font-medium text-gray-300 mb-2">Time Interval</label>
                        <div class="flex">
                            <input type="number" id="time"
                                class="flex-grow bg-gray-700 border border-gray-600 rounded-l-lg px-4 py-3 text-white focus:ring-2 focus:ring-green-400 focus:border-transparent"
                                placeholder="Enter time...">
                            <select id="timeUnit"
                                class="bg-gray-700 border border-gray-600 rounded-r-lg px-4 py-3 text-white focus:ring-2 focus:ring-green-400 focus:border-transparent">
                                <option value="31536000">Years</option>
                                <option value="86400">Days</option>
                                <option value="1">Seconds</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label for="initialNuclei" class="block text-sm font-medium text-gray-300 mb-2">Initial Nuclei
                            (optional)</label>
                        <input type="number" id="initialNuclei"
                            class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-green-400 focus:border-transparent"
                            placeholder="Default: 1">
                    </div>

                    <div class="flex items-end">
                        <button id="calculateBtn"
                            class="w-full bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center">
                            <i data-feather="zap" class="mr-2"></i> Calculate Decay
                        </button>
                    </div>
                </div>

                <div id="results"
                    class="hidden bg-gray-700 rounded-lg p-6 border border-gray-600 transition-all duration-500">
                    <h3 class="text-xl font-semibold mb-4 text-green-400 flex items-center">
                        <i data-feather="bar-chart-2" class="mr-2"></i> Decay Results
                    </h3>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <div class="text-sm text-gray-400">Decay Probability</div>
                            <div id="decayProbability" class="text-2xl font-bold text-green-400">0%</div>
                            <div class="text-xs text-gray-500 mt-1">Chance a nucleus will decay</div>
                        </div>

                        <div class="bg-gray-800 p-4 rounded-lg">
                            <div class="text-sm text-gray-400">Remaining Nuclei</div>
                            <div id="remainingNuclei" class="text-2xl font-bold text-blue-400">0</div>
                            <div class="text-xs text-gray-500 mt-1">Expected remaining count</div>
                        </div>
                    </div>

                    <div class="mt-6">
                        <div class="text-sm text-gray-400 mb-2">Half-life Information</div>
                        <div class="bg-gray-800 p-4 rounded-lg">
                            <div id="halfLifeInfo" class="text-gray-300">Select an isotope to see half-life information
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="mt-16 text-center text-gray-500 text-sm">
            <p>Made with <i data-feather="heart" class="inline w-4 h-4 text-red-400"></i> for nuclear science
                enthusiasts</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
    <script>
        // Initialize Vanta.js background
        VANTA.GLOBE({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            scaleMobile: 1.00,
            color: 0x3b82f6,
            backgroundColor: 0x111827,
            size: 0.8
        });

        // Initialize feather icons
        feather.replace();

        // Isotope data
        const isotopes = {
            "Uranium-238": { halfLife: 4.468e9 * 31536000, massNumber: 238 },
            "Carbon-14": { halfLife: 5730 * 31536000, massNumber: 14 },
            "Iodine-131": { halfLife: 8.02 * 86400, massNumber: 131 },
            "Strontium-90": { halfLife: 28.8 * 31536000, massNumber: 90 },
            "Thorium-232": { halfLife: 1.405e10 * 31536000, massNumber: 232 },
            "Plutonium-239": { halfLife: 24100 * 31536000, massNumber: 239 },
            "Uranium-235": { halfLife: 7.038e8 * 31536000, massNumber: 235 },
            "Cesium-137": { halfLife: 30.17 * 31536000, massNumber: 137 },
            "Radium-226": { halfLife: 1600 * 31536000, massNumber: 226 },
            "Radon-222": { halfLife: 3.82 * 86400, massNumber: 222 }
        };

        // DOM elements
        const isotopeSelect = document.getElementById('isotope');
        const timeInput = document.getElementById('time');
        const timeUnitSelect = document.getElementById('timeUnit');
        const initialNucleiInput = document.getElementById('initialNuclei');
        const calculateBtn = document.getElementById('calculateBtn');
        const resultsDiv = document.getElementById('results');
        const decayProbabilityDiv = document.getElementById('decayProbability');
        const remainingNucleiDiv = document.getElementById('remainingNuclei');
        const halfLifeInfoDiv = document.getElementById('halfLifeInfo');

        // Event listeners
        isotopeSelect.addEventListener('change', updateHalfLifeInfo);
        calculateBtn.addEventListener('click', calculateDecay);

        function updateHalfLifeInfo() {
            const selectedOption = isotopeSelect.options[isotopeSelect.selectedIndex];
            if (selectedOption.value) {
                const [halfLifeInSeconds, massNumber] = selectedOption.value.split(',');
                const isotopeName = selectedOption.text.split(' (')[0];

                // Format half-life for display
                const halfLife = parseFloat(halfLifeInSeconds);
                let displayHalfLife, unit;

                if (halfLife >= 31536000) {
                    // More than a year
                    const years = halfLife / 31536000;
                    if (years >= 1e6) {
                        displayHalfLife = (years / 1e6).toFixed(3) + " million";
                    } else if (years >= 1000) {
                        displayHalfLife = (years / 1000).toFixed(2) + " thousand";
                    } else {
                        displayHalfLife = years.toFixed(2);
                    }
                    unit = "years";
                } else if (halfLife >= 86400) {
                    // More than a day
                    displayHalfLife = (halfLife / 86400).toFixed(2);
                    unit = "days";
                } else {
                    displayHalfLife = halfLife.toFixed(2);
                    unit = "seconds";
                }

                halfLifeInfoDiv.innerHTML = `
                    <div class="flex items-center mb-2">
                        <span class="bg-blue-900 text-blue-200 rounded-full px-3 py-1 text-sm font-medium mr-2">${massNumber}</span>
                        <span class="font-medium">${isotopeName}</span>
                    </div>
                    <div class="text-green-400">Half-life: ${displayHalfLife} ${unit}</div>
                `;
            } else {
                halfLifeInfoDiv.textContent = "Select an isotope to see half-life information";
            }
        }

        function calculateDecay() {
            // Validate inputs
            if (!isotopeSelect.value) {
                alert('Please select an isotope');
                return;
            }

            if (!timeInput.value || isNaN(timeInput.value) || parseFloat(timeInput.value) <= 0) {
                alert('Please enter a valid time interval');
                return;
            }

            const [halfLifeInSeconds] = isotopeSelect.value.split(',');
            const halfLife = parseFloat(halfLifeInSeconds);
            const timeInSeconds = parseFloat(timeInput.value) * parseFloat(timeUnitSelect.value);
            const initialNuclei = initialNucleiInput.value ? parseFloat(initialNucleiInput.value) : 1;

            // Calculate decay probability
            const decayConstant = Math.log(2) / halfLife;
            const decayProbability = 1 - Math.exp(-decayConstant * timeInSeconds);

            // Calculate remaining nuclei
            const remainingNuclei = initialNuclei * Math.exp(-decayConstant * timeInSeconds);

            // Display results
            decayProbabilityDiv.textContent = `${(decayProbability * 100).toFixed(6)}%`;
            remainingNucleiDiv.textContent = remainingNuclei.toExponential(4);

            // Show results
            resultsDiv.classList.remove('hidden');

            // Animate results appearance
            resultsDiv.style.opacity = '0';
            resultsDiv.style.transform = 'translateY(20px)';
            setTimeout(() => {
                resultsDiv.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                resultsDiv.style.opacity = '1';
                resultsDiv.style.transform = 'translateY(0)';
            }, 10);
        }
    </script>
    <script>feather.replace();</script>
</body>

</html>